# 法律问答助手项目接口文档


**简介**:法律问答助手项目接口文档


**HOST**:http://localhost:8081/api


**联系人**:


**Version**:3.0


**接口路径**:/api/v3/api-docs/default


[TOC]






# 测试


## 拦截器测试


**接口地址**:`/api/api/**`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


暂无


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK||


**响应参数**:


暂无


**响应示例**:
```javascript

```


## Redis连接测试


**接口地址**:`/api/redis/test`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:<p>测试Redis基本连接和操作功能</p>



**请求参数**:


暂无


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK||


**响应参数**:


暂无


**响应示例**:
```javascript

```


## 普通get请求


**接口地址**:`/api/test`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


暂无


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK||


**响应参数**:


暂无


**响应示例**:
```javascript

```


# 订单管理


## 订单取消


**接口地址**:`/api/orders/cancel`


**请求方式**:`PUT`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:<p>律师和用户都可以在订单未支付的时候取消</p>



**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|orderId||query|true|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultString|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|string||
|message|返回消息|string||
|data|返回数据|string||
|requestId|请求ID，用于追踪|string||
|timestamp|时间戳|integer(int64)|integer(int64)|
|success||boolean||


**响应示例**:
```javascript
{
	"code": "00000",
	"message": "成功",
	"data": "",
	"requestId": "123456789",
	"timestamp": 1672531200000,
	"success": true
}
```


## 律师查看订单


**接口地址**:`/api/orders/lawyer`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|status||query|false|integer(int32)||
|page||query|false|integer(int32)||
|size||query|false|integer(int32)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultPageResultOrderVO|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|string||
|message|返回消息|string||
|data||PageResultOrderVO|PageResultOrderVO|
|&emsp;&emsp;total||integer(int64)||
|&emsp;&emsp;records|订单列表视图对象|array|OrderVO|
|&emsp;&emsp;&emsp;&emsp;orderId|订单ID|integer||
|&emsp;&emsp;&emsp;&emsp;status|订单状态:0=未支付,1=已支付,2=已取消|integer||
|&emsp;&emsp;&emsp;&emsp;amount|订单金额|number||
|&emsp;&emsp;&emsp;&emsp;createTime|创建时间|string||
|&emsp;&emsp;&emsp;&emsp;userId|用户ID（律师端使用）|integer||
|&emsp;&emsp;&emsp;&emsp;userName|用户名|string||
|&emsp;&emsp;&emsp;&emsp;userAvatar|用户头像|string||
|&emsp;&emsp;&emsp;&emsp;lawyerId|律师ID（用户端使用）|integer||
|&emsp;&emsp;&emsp;&emsp;lawyerName|律师姓名|string||
|&emsp;&emsp;&emsp;&emsp;lawyerAvatar|律师头像|string||
|&emsp;&emsp;&emsp;&emsp;scheduleDate|预约日期：yyyy-MM-dd|string||
|&emsp;&emsp;&emsp;&emsp;appointmentStart|预约开始时间：yyyy-MM-dd HH:mm|string||
|&emsp;&emsp;&emsp;&emsp;appointmentEnd|预约结束时间：yyyy-MM-dd HH:mm|string||
|requestId|请求ID，用于追踪|string||
|timestamp|时间戳|integer(int64)|integer(int64)|
|success||boolean||


**响应示例**:
```javascript
{
	"code": "00000",
	"message": "成功",
	"data": {
		"total": 0,
		"records": [
			{
				"orderId": 0,
				"status": 0,
				"amount": 0,
				"createTime": "",
				"userId": 0,
				"userName": "",
				"userAvatar": "",
				"lawyerId": 0,
				"lawyerName": "",
				"lawyerAvatar": "",
				"scheduleDate": "",
				"appointmentStart": "",
				"appointmentEnd": ""
			}
		]
	},
	"requestId": "123456789",
	"timestamp": 1672531200000,
	"success": true
}
```


## 用户查看订单


**接口地址**:`/api/orders/user`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|status||query|false|integer(int32)||
|page||query|false|integer(int32)||
|size||query|false|integer(int32)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultPageResultOrderVO|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|string||
|message|返回消息|string||
|data||PageResultOrderVO|PageResultOrderVO|
|&emsp;&emsp;total||integer(int64)||
|&emsp;&emsp;records|订单列表视图对象|array|OrderVO|
|&emsp;&emsp;&emsp;&emsp;orderId|订单ID|integer||
|&emsp;&emsp;&emsp;&emsp;status|订单状态:0=未支付,1=已支付,2=已取消|integer||
|&emsp;&emsp;&emsp;&emsp;amount|订单金额|number||
|&emsp;&emsp;&emsp;&emsp;createTime|创建时间|string||
|&emsp;&emsp;&emsp;&emsp;userId|用户ID（律师端使用）|integer||
|&emsp;&emsp;&emsp;&emsp;userName|用户名|string||
|&emsp;&emsp;&emsp;&emsp;userAvatar|用户头像|string||
|&emsp;&emsp;&emsp;&emsp;lawyerId|律师ID（用户端使用）|integer||
|&emsp;&emsp;&emsp;&emsp;lawyerName|律师姓名|string||
|&emsp;&emsp;&emsp;&emsp;lawyerAvatar|律师头像|string||
|&emsp;&emsp;&emsp;&emsp;scheduleDate|预约日期：yyyy-MM-dd|string||
|&emsp;&emsp;&emsp;&emsp;appointmentStart|预约开始时间：yyyy-MM-dd HH:mm|string||
|&emsp;&emsp;&emsp;&emsp;appointmentEnd|预约结束时间：yyyy-MM-dd HH:mm|string||
|requestId|请求ID，用于追踪|string||
|timestamp|时间戳|integer(int64)|integer(int64)|
|success||boolean||


**响应示例**:
```javascript
{
	"code": "00000",
	"message": "成功",
	"data": {
		"total": 0,
		"records": [
			{
				"orderId": 0,
				"status": 0,
				"amount": 0,
				"createTime": "",
				"userId": 0,
				"userName": "",
				"userAvatar": "",
				"lawyerId": 0,
				"lawyerName": "",
				"lawyerAvatar": "",
				"scheduleDate": "",
				"appointmentStart": "",
				"appointmentEnd": ""
			}
		]
	},
	"requestId": "123456789",
	"timestamp": 1672531200000,
	"success": true
}
```


# 法律知识检索


## 关键词搜索


**接口地址**:`/api/search/keyword`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:<p>基于向量嵌入的关键词检索，返回最相关的知识库文档</p>



**请求示例**:


```javascript
{
  "query": "劳动合同解除条件有哪些？",
  "topK": 5
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|searchRequestDTO|语义搜索请求参数|body|true|SearchRequestDTO|SearchRequestDTO|
|&emsp;&emsp;query|用户查询内容（关键词或自然语言问题）||false|string||
|&emsp;&emsp;topK|返回前多少条匹配结果||false|integer(int32)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|SearchResultDTO|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|title|文档标题|string||
|summary|文档摘要|string||
|content|文档原文内容|string||
|source|来源类型,可用值:劳动法,民法典,刑法,行政法规,司法案例,知识库|string||
|score|匹配得分（相似度）|number(double)|number(double)|


**响应示例**:
```javascript
[
	{
		"title": "劳动合同解除条件",
		"summary": "用人单位解除合同应符合法定条件，包括严重违纪、严重失职等情况...",
		"content": "《劳动合同法》第三十九条规定：劳动者有下列情形之一的，用人单位可以解除劳动合同：（一）在试用期间被证明不符合录用条件的；（二）严重违反用人单位的规章制度的...",
		"source": "劳动法",
		"score": 0.95
	}
]
```


## 语义搜索


**接口地址**:`/api/search/semantic`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:<p>基于向量嵌入的语义检索，返回最相关的知识库文档</p>



**请求示例**:


```javascript
{
  "query": "劳动合同解除条件有哪些？",
  "topK": 5
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|searchRequestDTO|语义搜索请求参数|body|true|SearchRequestDTO|SearchRequestDTO|
|&emsp;&emsp;query|用户查询内容（关键词或自然语言问题）||false|string||
|&emsp;&emsp;topK|返回前多少条匹配结果||false|integer(int32)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|SearchResultDTO|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|title|文档标题|string||
|summary|文档摘要|string||
|content|文档原文内容|string||
|source|来源类型,可用值:劳动法,民法典,刑法,行政法规,司法案例,知识库|string||
|score|匹配得分（相似度）|number(double)|number(double)|


**响应示例**:
```javascript
[
	{
		"title": "劳动合同解除条件",
		"summary": "用人单位解除合同应符合法定条件，包括严重违纪、严重失职等情况...",
		"content": "《劳动合同法》第三十九条规定：劳动者有下列情形之一的，用人单位可以解除劳动合同：（一）在试用期间被证明不符合录用条件的；（二）严重违反用人单位的规章制度的...",
		"source": "劳动法",
		"score": 0.95
	}
]
```


# 法律咨询助手对话接口


## 清理会话


**接口地址**:`/api/ai/lower_app/clear`


**请求方式**:`DELETE`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:<p>删除 Redis 缓存并归档会话</p>



**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|chatId|会话ID|query|true|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK||


**响应参数**:


暂无


**响应示例**:
```javascript

```


## 获取最近N条消息


**接口地址**:`/api/ai/lower_app/recent`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:<p>获取会话历史最近消息</p>



**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|chatId|会话ID|query|true|string||
|limit|返回的条数|query|false|integer(int32)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ChatMessage|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|id||integer(int64)|integer(int64)|
|sessionId||integer(int64)|integer(int64)|
|messageId||string||
|seq||integer(int32)|integer(int32)|
|role||string||
|content||string||
|createdAt||string(date-time)|string(date-time)|


**响应示例**:
```javascript
[
	{
		"id": 0,
		"sessionId": 0,
		"messageId": "",
		"seq": 0,
		"role": "",
		"content": "",
		"createdAt": ""
	}
]
```


## SSE流式对话


**接口地址**:`/api/ai/lower_app/sse`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`text/event-stream`


**接口描述**:<p>发送消息并获取AI实时流式回复</p>



**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|message|用户输入消息|query|true|string||
|chatId|会话ID，用于上下文管理|query|true|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK||


**响应参数**:


暂无


**响应示例**:
```javascript

```


## 发送系统消息


**接口地址**:`/api/ai/lower_app/system`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:<p>向会话中发送 system 消息</p>



**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|chatId||query|true|string||
|content||query|true|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK||


**响应参数**:


暂无


**响应示例**:
```javascript

```


# 管理员接口


## disable


**接口地址**:`/api/admin/{id}/disable`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|id||path|true|integer(int64)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultObject|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|string||
|message|返回消息|string||
|data|返回数据|object||
|requestId|请求ID，用于追踪|string||
|timestamp|时间戳|integer(int64)|integer(int64)|
|success||boolean||


**响应示例**:
```javascript
{
	"code": "00000",
	"message": "成功",
	"data": {},
	"requestId": "123456789",
	"timestamp": 1672531200000,
	"success": true
}
```


## enable


**接口地址**:`/api/admin/{id}/enable`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|id||path|true|integer(int64)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultObject|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|string||
|message|返回消息|string||
|data|返回数据|object||
|requestId|请求ID，用于追踪|string||
|timestamp|时间戳|integer(int64)|integer(int64)|
|success||boolean||


**响应示例**:
```javascript
{
	"code": "00000",
	"message": "成功",
	"data": {},
	"requestId": "123456789",
	"timestamp": 1672531200000,
	"success": true
}
```


## 用户(律师)列表查询


**接口地址**:`/api/admin/list`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:<p>列表查询（管理员）</p>



**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|pageNum||query|false|integer(int32)||
|pageSize||query|false|integer(int32)||
|role||query|false|string||
|status||query|false|integer(int32)||
|keyword||query|false|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|IPageUserInfoVO|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|size||integer(int64)|integer(int64)|
|records||array|UserInfoVO|
|&emsp;&emsp;id|用户id|integer(int64)||
|&emsp;&emsp;userName|用户名|string||
|&emsp;&emsp;phone|手机号码|string||
|&emsp;&emsp;nickname|昵称|string||
|&emsp;&emsp;role|角色:user,lawyer|string||
|&emsp;&emsp;status|用户状态：1=正常，0=禁用|integer(int32)||
|&emsp;&emsp;updateTime|最后更新时间|string(date-time)||
|total||integer(int64)|integer(int64)|
|current||integer(int64)|integer(int64)|
|pages||integer(int64)|integer(int64)|


**响应示例**:
```javascript
{
	"size": 0,
	"records": [
		{
			"id": 0,
			"userName": "",
			"phone": "",
			"nickname": "",
			"role": "",
			"status": 0,
			"updateTime": ""
		}
	],
	"total": 0,
	"current": 0,
	"pages": 0
}
```


## 管理员登录


**接口地址**:`/api/admin/login`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:<p>通过用户名和密码进行登录</p>



**请求示例**:


```javascript
{
  "username": "",
  "password": ""
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|usernameLoginDTO|账号登录请求参数|body|true|UsernameLoginDTO|UsernameLoginDTO|
|&emsp;&emsp;username|账号||false|string||
|&emsp;&emsp;password|密码||false|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultLoginResponseVO|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|string||
|message|返回消息|string||
|data||LoginResponseVO|LoginResponseVO|
|&emsp;&emsp;token||string||
|&emsp;&emsp;userInfo|用户信息实体|User|User|
|&emsp;&emsp;&emsp;&emsp;id|用户ID|integer||
|&emsp;&emsp;&emsp;&emsp;userName|用户名|string||
|&emsp;&emsp;&emsp;&emsp;password|密码|string||
|&emsp;&emsp;&emsp;&emsp;phone|手机号码|string||
|&emsp;&emsp;&emsp;&emsp;nickname|昵称|string||
|&emsp;&emsp;&emsp;&emsp;role|角色:user,lawyer,admin|string||
|&emsp;&emsp;&emsp;&emsp;status|用户状态：1=正常，0=禁用|integer||
|&emsp;&emsp;&emsp;&emsp;updateTime|最后更新时间|string||
|&emsp;&emsp;&emsp;&emsp;createTime|创建时间|string||
|requestId|请求ID，用于追踪|string||
|timestamp|时间戳|integer(int64)|integer(int64)|
|success||boolean||


**响应示例**:
```javascript
{
	"code": "00000",
	"message": "成功",
	"data": {
		"token": "",
		"userInfo": {
			"id": 1,
			"userName": "john_doe",
			"password": "123456",
			"phone": "13800138000",
			"nickname": "tom",
			"role": "",
			"status": 0,
			"updateTime": "",
			"createTime": ""
		}
	},
	"requestId": "123456789",
	"timestamp": 1672531200000,
	"success": true
}
```


# 管理员审核接口


## 审核通过


**接口地址**:`/api/admin/lawyer/license/{licenseId}/approve`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|licenseId||path|true|integer(int64)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultString|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|string||
|message|返回消息|string||
|data|返回数据|string||
|requestId|请求ID，用于追踪|string||
|timestamp|时间戳|integer(int64)|integer(int64)|
|success||boolean||


**响应示例**:
```javascript
{
	"code": "00000",
	"message": "成功",
	"data": "",
	"requestId": "123456789",
	"timestamp": 1672531200000,
	"success": true
}
```


## 审核拒绝


**接口地址**:`/api/admin/lawyer/license/{licenseId}/reject`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|licenseId||path|true|integer(int64)||
|remark||query|true|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultString|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|string||
|message|返回消息|string||
|data|返回数据|string||
|requestId|请求ID，用于追踪|string||
|timestamp|时间戳|integer(int64)|integer(int64)|
|success||boolean||


**响应示例**:
```javascript
{
	"code": "00000",
	"message": "成功",
	"data": "",
	"requestId": "123456789",
	"timestamp": 1672531200000,
	"success": true
}
```


## 分页列表查询律师执业证书


**接口地址**:`/api/admin/lawyer/license/list`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|page||query|true|integer(int32)||
|pageSize||query|true|integer(int32)||
|status||query|false|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultIPageLawyerLicenseVO|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|string||
|message|返回消息|string||
|data||IPageLawyerLicenseVO|IPageLawyerLicenseVO|
|&emsp;&emsp;size||integer(int64)||
|&emsp;&emsp;records|律师审核信息 VO|array|LawyerLicenseVO|
|&emsp;&emsp;&emsp;&emsp;id|律师id(user表的主键id)|integer||
|&emsp;&emsp;&emsp;&emsp;licenseId||integer||
|&emsp;&emsp;&emsp;&emsp;lawyerName|律师名字|string||
|&emsp;&emsp;&emsp;&emsp;lawFirm|所属律所|string||
|&emsp;&emsp;&emsp;&emsp;licenseNo|执业证编号|string||
|&emsp;&emsp;&emsp;&emsp;licenseType|执业证类型|string||
|&emsp;&emsp;&emsp;&emsp;city|城市名称|string||
|&emsp;&emsp;&emsp;&emsp;province|省份名称|string||
|&emsp;&emsp;&emsp;&emsp;specialty|专长领域|string||
|&emsp;&emsp;&emsp;&emsp;ossUrl|执业证照片|string||
|&emsp;&emsp;&emsp;&emsp;applicationTime|申请时间|string||
|&emsp;&emsp;&emsp;&emsp;userName|用户名|string||
|&emsp;&emsp;&emsp;&emsp;auditStatus|审核状态，pending=待审核, approved=已通过, rejected=已拒绝,可用值:pending,approved,rejected|string||
|&emsp;&emsp;&emsp;&emsp;status|用户状态：1=正常，0=禁用|integer||
|&emsp;&emsp;&emsp;&emsp;phone|联系电话|string||
|&emsp;&emsp;&emsp;&emsp;issueDate|发证日期|string||
|&emsp;&emsp;&emsp;&emsp;expireDate|到期日期|string||
|&emsp;&emsp;&emsp;&emsp;submitTime|图片提交时间|string||
|&emsp;&emsp;total||integer(int64)||
|&emsp;&emsp;current||integer(int64)||
|&emsp;&emsp;pages||integer(int64)||
|requestId|请求ID，用于追踪|string||
|timestamp|时间戳|integer(int64)|integer(int64)|
|success||boolean||


**响应示例**:
```javascript
{
	"code": "00000",
	"message": "成功",
	"data": {
		"size": 0,
		"records": [
			{
				"id": 0,
				"licenseId": 0,
				"lawyerName": "",
				"lawFirm": "",
				"licenseNo": "",
				"licenseType": "",
				"city": "",
				"province": "",
				"specialty": "",
				"ossUrl": "",
				"applicationTime": "",
				"userName": "",
				"auditStatus": "",
				"status": 0,
				"phone": "",
				"issueDate": "",
				"expireDate": "",
				"submitTime": ""
			}
		],
		"total": 0,
		"current": 0,
		"pages": 0
	},
	"requestId": "123456789",
	"timestamp": 1672531200000,
	"success": true
}
```


# 聊天消息接口


## 获取聊天记录（分页）


**接口地址**:`/api/consult/message/list`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:<p>根据会话 ID 获取对应聊天消息</p>



**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|Authorization||header|true|string||
|sessionId||query|true|integer(int64)||
|pageNum||query|true|integer(int32)||
|pageSize||query|true|integer(int32)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultPageMessageVO|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|string||
|message|返回消息|string||
|data||PageMessageVO|PageMessageVO|
|&emsp;&emsp;records|消息VO|array|MessageVO|
|&emsp;&emsp;&emsp;&emsp;id|消息ID|integer||
|&emsp;&emsp;&emsp;&emsp;senderId|发送者ID|integer||
|&emsp;&emsp;&emsp;&emsp;receiverId|接收者ID|integer||
|&emsp;&emsp;&emsp;&emsp;content|消息内容|string||
|&emsp;&emsp;&emsp;&emsp;type|消息类型|string||
|&emsp;&emsp;&emsp;&emsp;isRead|是否已读|integer||
|&emsp;&emsp;&emsp;&emsp;time|发送时间|string||
|&emsp;&emsp;total||integer(int64)||
|&emsp;&emsp;size||integer(int64)||
|&emsp;&emsp;current||integer(int64)||
|&emsp;&emsp;orders||array|OrderItem|
|&emsp;&emsp;&emsp;&emsp;column||string||
|&emsp;&emsp;&emsp;&emsp;asc||boolean||
|&emsp;&emsp;optimizeCountSql||PageMessageVO|PageMessageVO|
|&emsp;&emsp;searchCount||PageMessageVO|PageMessageVO|
|&emsp;&emsp;optimizeJoinOfCountSql||boolean||
|&emsp;&emsp;maxLimit||integer(int64)||
|&emsp;&emsp;countId||string||
|&emsp;&emsp;pages||integer(int64)||
|requestId|请求ID，用于追踪|string||
|timestamp|时间戳|integer(int64)|integer(int64)|
|success||boolean||


**响应示例**:
```javascript
{
	"code": "00000",
	"message": "成功",
	"data": {
		"records": [
			{
				"id": 1001,
				"senderId": 2001,
				"receiverId": 3001,
				"content": "您好，我想咨询一下离婚财产分割的问题",
				"type": "",
				"isRead": 0,
				"time": ""
			}
		],
		"total": 0,
		"size": 0,
		"current": 0,
		"orders": [
			{
				"column": "",
				"asc": true
			}
		],
		"optimizeCountSql": {},
		"searchCount": {},
		"optimizeJoinOfCountSql": true,
		"maxLimit": 0,
		"countId": "",
		"pages": 0
	},
	"requestId": "123456789",
	"timestamp": 1672531200000,
	"success": true
}
```


# 律师处理预约接口


## 律师接受预约并生成订单


**接口地址**:`/api/lawyer/appointment/accept`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
{
  "appointmentId": 1,
  "customAmount": "100.0"
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|acceptAppointmentDTO|律师接受预约 DTO|body|true|AcceptAppointmentDTO|AcceptAppointmentDTO|
|&emsp;&emsp;appointmentId|预约ID||true|integer(int64)||
|&emsp;&emsp;customAmount|是否强制使用自定义金额（可选），若为空使用律师默认价||false|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultConsultOrderVO|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|string||
|message|返回消息|string||
|data||ConsultOrderVO|ConsultOrderVO|
|&emsp;&emsp;id||integer(int64)||
|&emsp;&emsp;appointmentId||integer(int64)||
|&emsp;&emsp;userId||integer(int64)||
|&emsp;&emsp;lawyerId||integer(int64)||
|&emsp;&emsp;amount||number||
|&emsp;&emsp;description||string||
|&emsp;&emsp;status||integer(int32)||
|&emsp;&emsp;createTime||string(date-time)||
|&emsp;&emsp;payTime||string(date-time)||
|&emsp;&emsp;updateTime||string(date-time)||
|&emsp;&emsp;lawyerName||string||
|&emsp;&emsp;userName||string||
|&emsp;&emsp;scheduleDate||string||
|&emsp;&emsp;scheduleStartTime||string||
|&emsp;&emsp;scheduleEndTime||string||
|requestId|请求ID，用于追踪|string||
|timestamp|时间戳|integer(int64)|integer(int64)|
|success||boolean||


**响应示例**:
```javascript
{
	"code": "00000",
	"message": "成功",
	"data": {
		"id": 0,
		"appointmentId": 0,
		"userId": 0,
		"lawyerId": 0,
		"amount": 0,
		"description": "",
		"status": 0,
		"createTime": "",
		"payTime": "",
		"updateTime": "",
		"lawyerName": "",
		"userName": "",
		"scheduleDate": "",
		"scheduleStartTime": "",
		"scheduleEndTime": ""
	},
	"requestId": "123456789",
	"timestamp": 1672531200000,
	"success": true
}
```


## 查看预约记录


**接口地址**:`/api/lawyer/appointment/list`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|lawyerId||query|true|integer(int64)||
|status||query|true|integer(int32)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultListAppointmentVO|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|string||
|message|返回消息|string||
|data|返回数据|array|AppointmentVO|
|&emsp;&emsp;id|预约记录ID|integer(int64)||
|&emsp;&emsp;userId|用户ID|integer(int64)||
|&emsp;&emsp;lawyerId|律师ID|integer(int64)||
|&emsp;&emsp;userName||string||
|&emsp;&emsp;scheduleId|预约时间段ID|integer(int64)||
|&emsp;&emsp;status|预约状态,1=待确认, 2=已确认, 3=已完成, 4=已取消, 5=已拒绝,可用值:1,2,3,4,5|integer(int32)||
|&emsp;&emsp;appointmentTime|预约时间|string(date-time)||
|&emsp;&emsp;createTime|创建时间|string(date-time)||
|&emsp;&emsp;updateTime|更新时间|string(date-time)||
|&emsp;&emsp;lawyerName|律师姓名|string||
|&emsp;&emsp;scheduleDate|预约日期|string||
|&emsp;&emsp;startTime|开始时间|string||
|&emsp;&emsp;endTime|结束时间|string||
|requestId|请求ID，用于追踪|string||
|timestamp|时间戳|integer(int64)|integer(int64)|
|success||boolean||


**响应示例**:
```javascript
{
	"code": "00000",
	"message": "成功",
	"data": [
		{
			"id": 1,
			"userId": 10001,
			"lawyerId": 20001,
			"userName": "",
			"scheduleId": 30001,
			"status": 1,
			"appointmentTime": "",
			"createTime": "",
			"updateTime": "",
			"lawyerName": "张伟",
			"scheduleDate": "2025-11-20",
			"startTime": "09:00:00",
			"endTime": "10:00:00"
		}
	],
	"requestId": "123456789",
	"timestamp": 1672531200000,
	"success": true
}
```


## 律师拒绝预约


**接口地址**:`/api/lawyer/appointment/reject`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
{
  "appointmentId": 1,
  "reason": "时间冲突，无法接待"
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|rejectAppointmentDTO|律师拒绝预约 DTO|body|true|RejectAppointmentDTO|RejectAppointmentDTO|
|&emsp;&emsp;appointmentId|预约ID||true|integer(int64)||
|&emsp;&emsp;reason|拒绝理由（可选）||false|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultString|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|string||
|message|返回消息|string||
|data|返回数据|string||
|requestId|请求ID，用于追踪|string||
|timestamp|时间戳|integer(int64)|integer(int64)|
|success||boolean||


**响应示例**:
```javascript
{
	"code": "00000",
	"message": "成功",
	"data": "",
	"requestId": "123456789",
	"timestamp": 1672531200000,
	"success": true
}
```


# 律师管理


## 获取律师详细信息


**接口地址**:`/api/lawyer/{id}`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:<p>根据律师ID查询详细资料</p>



**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|id|律师ID|path|true|integer(int64)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|查询成功|Lawyer|
|404|律师不存在|Lawyer|


**响应状态码-200**:


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|id|律师主键ID|integer(int64)|integer(int64)|
|userId|关联系统用户表ID|integer(int64)|integer(int64)|
|name|律师姓名|string||
|avatar|头像URL|string||
|lawFirm|所属律所|string||
|years|从业年限（年）|integer(int32)|integer(int32)|
|price|咨询价格（元/小时）|number||
|score|平均评分（0-5分）|number||
|status|审核状态，pending=待审核, approved=已通过, rejected=已拒绝,可用值:pending,approved,rejected|string||
|createTime|创建时间|string(date-time)|string(date-time)|
|specialty|专长领域（JSON数组格式）|string||
|city|城市名称|string||
|province|省份名称|string||


**响应示例**:
```javascript
{
	"id": 1,
	"userId": 1001,
	"name": "张伟",
	"avatar": "https://example.com/avatar.jpg",
	"lawFirm": "北京大成律师事务所",
	"years": 5,
	"price": 500,
	"score": 4.8,
	"status": "pending",
	"createTime": "2024-01-01T10:00:00Z",
	"specialty": "[\"民事纠纷\",\"刑事辩护\",\"公司法务\"]",
	"city": "广州市",
	"province": "广东省"
}
```


**响应状态码-404**:


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|id|律师主键ID|integer(int64)|integer(int64)|
|userId|关联系统用户表ID|integer(int64)|integer(int64)|
|name|律师姓名|string||
|avatar|头像URL|string||
|lawFirm|所属律所|string||
|years|从业年限（年）|integer(int32)|integer(int32)|
|price|咨询价格（元/小时）|number||
|score|平均评分（0-5分）|number||
|status|审核状态，pending=待审核, approved=已通过, rejected=已拒绝,可用值:pending,approved,rejected|string||
|createTime|创建时间|string(date-time)|string(date-time)|
|specialty|专长领域（JSON数组格式）|string||
|city|城市名称|string||
|province|省份名称|string||


**响应示例**:
```javascript
{
	"id": 1,
	"userId": 1001,
	"name": "张伟",
	"avatar": "https://example.com/avatar.jpg",
	"lawFirm": "北京大成律师事务所",
	"years": 5,
	"price": 500,
	"score": 4.8,
	"status": "pending",
	"createTime": "2024-01-01T10:00:00Z",
	"specialty": "[\"民事纠纷\",\"刑事辩护\",\"公司法务\"]",
	"city": "广州市",
	"province": "广东省"
}
```


## 分页查询律师列表


**接口地址**:`/api/lawyer/list`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:<p>支持按专业领域、律所进行筛选，并可按评分排序</p>



**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|pageNum|页码|query|false|integer(int32)||
|pageSize|每页大小|query|false|integer(int32)||
|specialty|专业领域筛选|query|false|string||
|lawFirm|律所筛选|query|false|string||
|sort|排序方式,score_desc:降序, score_asc：升序|query|false|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|查询成功|IPageLawyer|
|400|参数错误|IPageLawyer|
|500|服务器内部错误|IPageLawyer|


**响应状态码-200**:


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|size||integer(int64)|integer(int64)|
|records||array|Lawyer|
|&emsp;&emsp;id|律师主键ID|integer(int64)||
|&emsp;&emsp;userId|关联系统用户表ID|integer(int64)||
|&emsp;&emsp;name|律师姓名|string||
|&emsp;&emsp;avatar|头像URL|string||
|&emsp;&emsp;lawFirm|所属律所|string||
|&emsp;&emsp;years|从业年限（年）|integer(int32)||
|&emsp;&emsp;price|咨询价格（元/小时）|number||
|&emsp;&emsp;score|平均评分（0-5分）|number||
|&emsp;&emsp;status|审核状态，pending=待审核, approved=已通过, rejected=已拒绝,可用值:pending,approved,rejected|string||
|&emsp;&emsp;createTime|创建时间|string(date-time)||
|&emsp;&emsp;specialty|专长领域（JSON数组格式）|string||
|&emsp;&emsp;city|城市名称|string||
|&emsp;&emsp;province|省份名称|string||
|total||integer(int64)|integer(int64)|
|current||integer(int64)|integer(int64)|
|pages||integer(int64)|integer(int64)|


**响应示例**:
```javascript
{
	"size": 0,
	"records": [
		{
			"id": 1,
			"userId": 1001,
			"name": "张伟",
			"avatar": "https://example.com/avatar.jpg",
			"lawFirm": "北京大成律师事务所",
			"years": 5,
			"price": 500,
			"score": 4.8,
			"status": "pending",
			"createTime": "2024-01-01T10:00:00Z",
			"specialty": "[\"民事纠纷\",\"刑事辩护\",\"公司法务\"]",
			"city": "广州市",
			"province": "广东省"
		}
	],
	"total": 0,
	"current": 0,
	"pages": 0
}
```


**响应状态码-400**:


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|size||integer(int64)|integer(int64)|
|records||array|Lawyer|
|&emsp;&emsp;id|律师主键ID|integer(int64)||
|&emsp;&emsp;userId|关联系统用户表ID|integer(int64)||
|&emsp;&emsp;name|律师姓名|string||
|&emsp;&emsp;avatar|头像URL|string||
|&emsp;&emsp;lawFirm|所属律所|string||
|&emsp;&emsp;years|从业年限（年）|integer(int32)||
|&emsp;&emsp;price|咨询价格（元/小时）|number||
|&emsp;&emsp;score|平均评分（0-5分）|number||
|&emsp;&emsp;status|审核状态，pending=待审核, approved=已通过, rejected=已拒绝,可用值:pending,approved,rejected|string||
|&emsp;&emsp;createTime|创建时间|string(date-time)||
|&emsp;&emsp;specialty|专长领域（JSON数组格式）|string||
|&emsp;&emsp;city|城市名称|string||
|&emsp;&emsp;province|省份名称|string||
|total||integer(int64)|integer(int64)|
|current||integer(int64)|integer(int64)|
|pages||integer(int64)|integer(int64)|


**响应示例**:
```javascript
{
	"size": 0,
	"records": [
		{
			"id": 1,
			"userId": 1001,
			"name": "张伟",
			"avatar": "https://example.com/avatar.jpg",
			"lawFirm": "北京大成律师事务所",
			"years": 5,
			"price": 500,
			"score": 4.8,
			"status": "pending",
			"createTime": "2024-01-01T10:00:00Z",
			"specialty": "[\"民事纠纷\",\"刑事辩护\",\"公司法务\"]",
			"city": "广州市",
			"province": "广东省"
		}
	],
	"total": 0,
	"current": 0,
	"pages": 0
}
```


**响应状态码-500**:


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|size||integer(int64)|integer(int64)|
|records||array|Lawyer|
|&emsp;&emsp;id|律师主键ID|integer(int64)||
|&emsp;&emsp;userId|关联系统用户表ID|integer(int64)||
|&emsp;&emsp;name|律师姓名|string||
|&emsp;&emsp;avatar|头像URL|string||
|&emsp;&emsp;lawFirm|所属律所|string||
|&emsp;&emsp;years|从业年限（年）|integer(int32)||
|&emsp;&emsp;price|咨询价格（元/小时）|number||
|&emsp;&emsp;score|平均评分（0-5分）|number||
|&emsp;&emsp;status|审核状态，pending=待审核, approved=已通过, rejected=已拒绝,可用值:pending,approved,rejected|string||
|&emsp;&emsp;createTime|创建时间|string(date-time)||
|&emsp;&emsp;specialty|专长领域（JSON数组格式）|string||
|&emsp;&emsp;city|城市名称|string||
|&emsp;&emsp;province|省份名称|string||
|total||integer(int64)|integer(int64)|
|current||integer(int64)|integer(int64)|
|pages||integer(int64)|integer(int64)|


**响应示例**:
```javascript
{
	"size": 0,
	"records": [
		{
			"id": 1,
			"userId": 1001,
			"name": "张伟",
			"avatar": "https://example.com/avatar.jpg",
			"lawFirm": "北京大成律师事务所",
			"years": 5,
			"price": 500,
			"score": 4.8,
			"status": "pending",
			"createTime": "2024-01-01T10:00:00Z",
			"specialty": "[\"民事纠纷\",\"刑事辩护\",\"公司法务\"]",
			"city": "广州市",
			"province": "广东省"
		}
	],
	"total": 0,
	"current": 0,
	"pages": 0
}
```


## 获取所有专业领域


**接口地址**:`/api/lawyer/specialties`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:<p>返回系统中所有律师的专业领域列表，用于前端筛选</p>



**请求参数**:


暂无


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|查询成功||


**响应参数**:


暂无


**响应示例**:
```javascript

```


# 律师可预约时间设置接口


## 新增律师可预约时间段


**接口地址**:`/api/lawyer/schedule/add`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
{
  "lawyerId": 1001,
  "date": "2025-11-20",
  "startTime": {
    "hour": 0,
    "minute": 0,
    "second": 0,
    "nano": 0
  },
  "endTime": {
    "hour": 0,
    "minute": 0,
    "second": 0,
    "nano": 0
  }
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|lawyerScheduleAddDTO|律师新增可预约时间段 DTO|body|true|LawyerScheduleAddDTO|LawyerScheduleAddDTO|
|&emsp;&emsp;lawyerId|律师ID||false|integer(int64)||
|&emsp;&emsp;date|可预约日期||false|string(date)||
|&emsp;&emsp;startTime|结束时间||false|LocalTime|LocalTime|
|&emsp;&emsp;&emsp;&emsp;hour|||false|integer||
|&emsp;&emsp;&emsp;&emsp;minute|||false|integer||
|&emsp;&emsp;&emsp;&emsp;second|||false|integer||
|&emsp;&emsp;&emsp;&emsp;nano|||false|integer||
|&emsp;&emsp;endTime|结束时间||false|LocalTime|LocalTime|
|&emsp;&emsp;&emsp;&emsp;hour|||false|integer||
|&emsp;&emsp;&emsp;&emsp;minute|||false|integer||
|&emsp;&emsp;&emsp;&emsp;second|||false|integer||
|&emsp;&emsp;&emsp;&emsp;nano|||false|integer||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultString|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|string||
|message|返回消息|string||
|data|返回数据|string||
|requestId|请求ID，用于追踪|string||
|timestamp|时间戳|integer(int64)|integer(int64)|
|success||boolean||


**响应示例**:
```javascript
{
	"code": "00000",
	"message": "成功",
	"data": "",
	"requestId": "123456789",
	"timestamp": 1672531200000,
	"success": true
}
```


## 获取律师已有预约时间段


**接口地址**:`/api/lawyer/schedule/list`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|lawyerId||query|true|integer(int64)||
|date||query|false|string(date)||
|status||query|false|integer(int32)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultListLawyerScheduleVO|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|string||
|message|返回消息|string||
|data|返回数据|array|LawyerScheduleVO|
|&emsp;&emsp;id||integer(int64)||
|&emsp;&emsp;lawyerId||integer(int64)||
|&emsp;&emsp;lawyerName||string||
|&emsp;&emsp;date||string(date)||
|&emsp;&emsp;startTime|结束时间|LocalTime|LocalTime|
|&emsp;&emsp;&emsp;&emsp;hour||integer||
|&emsp;&emsp;&emsp;&emsp;minute||integer||
|&emsp;&emsp;&emsp;&emsp;second||integer||
|&emsp;&emsp;&emsp;&emsp;nano||integer||
|&emsp;&emsp;endTime|结束时间|LocalTime|LocalTime|
|&emsp;&emsp;&emsp;&emsp;hour||integer||
|&emsp;&emsp;&emsp;&emsp;minute||integer||
|&emsp;&emsp;&emsp;&emsp;second||integer||
|&emsp;&emsp;&emsp;&emsp;nano||integer||
|&emsp;&emsp;status||integer(int32)||
|requestId|请求ID，用于追踪|string||
|timestamp|时间戳|integer(int64)|integer(int64)|
|success||boolean||


**响应示例**:
```javascript
{
	"code": "00000",
	"message": "成功",
	"data": [
		{
			"id": 0,
			"lawyerId": 0,
			"lawyerName": "",
			"date": "",
			"startTime": {
				"hour": 0,
				"minute": 0,
				"second": 0,
				"nano": 0
			},
			"endTime": {
				"hour": 0,
				"minute": 0,
				"second": 0,
				"nano": 0
			},
			"status": 0
		}
	],
	"requestId": "123456789",
	"timestamp": 1672531200000,
	"success": true
}
```


## 修改律师可预约时间段


**接口地址**:`/api/lawyer/schedule/update`


**请求方式**:`PUT`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
{
  "id": 1,
  "date": "2025-11-20",
  "startTime": {
    "hour": 0,
    "minute": 0,
    "second": 0,
    "nano": 0
  },
  "endTime": {
    "hour": 0,
    "minute": 0,
    "second": 0,
    "nano": 0
  }
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|lawyerScheduleUpdateDTO|修改律师可预约时间段 DTO|body|true|LawyerScheduleUpdateDTO|LawyerScheduleUpdateDTO|
|&emsp;&emsp;id|主键ID||true|integer(int64)||
|&emsp;&emsp;date|可预约日期||true|string(date)||
|&emsp;&emsp;startTime|结束时间||true|LocalTime|LocalTime|
|&emsp;&emsp;&emsp;&emsp;hour|||false|integer||
|&emsp;&emsp;&emsp;&emsp;minute|||false|integer||
|&emsp;&emsp;&emsp;&emsp;second|||false|integer||
|&emsp;&emsp;&emsp;&emsp;nano|||false|integer||
|&emsp;&emsp;endTime|结束时间||true|LocalTime|LocalTime|
|&emsp;&emsp;&emsp;&emsp;hour|||false|integer||
|&emsp;&emsp;&emsp;&emsp;minute|||false|integer||
|&emsp;&emsp;&emsp;&emsp;second|||false|integer||
|&emsp;&emsp;&emsp;&emsp;nano|||false|integer||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultString|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|string||
|message|返回消息|string||
|data|返回数据|string||
|requestId|请求ID，用于追踪|string||
|timestamp|时间戳|integer(int64)|integer(int64)|
|success||boolean||


**响应示例**:
```javascript
{
	"code": "00000",
	"message": "成功",
	"data": "",
	"requestId": "123456789",
	"timestamp": 1672531200000,
	"success": true
}
```


# 律师执业证管理


## 获取我的执业证信息


**接口地址**:`/api/lawyer/license/my`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:<p>获取当前登录律师的最新执业证信息和认证状态</p>



**请求参数**:


暂无


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultLawyerLicense|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|string||
|message|返回消息|string||
|data||LawyerLicense|LawyerLicense|
|&emsp;&emsp;id|执业证主键ID|integer(int64)||
|&emsp;&emsp;lawyerId|关联律师ID|integer(int64)||
|&emsp;&emsp;licenseNo|执业证编号|string||
|&emsp;&emsp;licenseType|执业证类型,可用值:lawyer,intern,other|string||
|&emsp;&emsp;ossUrl|执业证图片OSS访问URL|string||
|&emsp;&emsp;ossObject|OSS对象key|string||
|&emsp;&emsp;issueDate|发证日期|string(date)||
|&emsp;&emsp;expireDate|到期日期|string(date)||
|&emsp;&emsp;status|审核状态,可用值:待审核,审核中,审核通过,审核拒绝|string||
|&emsp;&emsp;remark|备注或审核意见|string||
|&emsp;&emsp;createTime|创建时间|string(date-time)||
|&emsp;&emsp;updateTime|更新时间|string(date-time)||
|requestId|请求ID，用于追踪|string||
|timestamp|时间戳|integer(int64)|integer(int64)|
|success||boolean||


**响应示例**:
```javascript
{
	"code": "00000",
	"message": "成功",
	"data": {
		"id": 1,
		"lawyerId": 1001,
		"licenseNo": "14401202511020001",
		"licenseType": "lawyer",
		"ossUrl": "https://oss.example.com/license/2025/11/20/abc123.jpg",
		"ossObject": "license/2025/11/20/abc123.jpg",
		"issueDate": "2023-06-15",
		"expireDate": "2028-06-14",
		"status": "审核通过",
		"remark": "执业证信息清晰，审核通过",
		"createTime": "",
		"updateTime": ""
	},
	"requestId": "123456789",
	"timestamp": 1672531200000,
	"success": true
}
```


## 提交执业证认证


**接口地址**:`/api/lawyer/license/submit`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:<p>提交执业证信息进行认证审核，提交后律师状态将变为待审核</p>



**请求示例**:


```javascript
{
  "licenseNo": "14401202511020001",
  "licenseType": "lawyer",
  "ossUrl": "https://oss.example.com/license/2025/11/20/abc123.jpg",
  "ossObject": "license/2025/11/20/abc123.jpg",
  "issueDate": "2023-06-15",
  "expireDate": "2028-06-14",
  "lawFirm": "北京大成律师事务所",
  "years": 5,
  "city": "北京市",
  "province": "朝阳区",
  "specialtyJson": "[\"民事纠纷\",\"刑事辩护\",\"公司法务\"]"
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|licenseSubmitDTO|执业证提交请求DTO|body|true|LicenseSubmitDTO|LicenseSubmitDTO|
|&emsp;&emsp;licenseNo|执业证编号||true|string||
|&emsp;&emsp;licenseType|执业证类型,可用值:lawyer,intern,other||true|string||
|&emsp;&emsp;ossUrl|执业证图片OSS访问URL||true|string||
|&emsp;&emsp;ossObject|OSS对象key||true|string||
|&emsp;&emsp;issueDate|发证日期||true|string(date)||
|&emsp;&emsp;expireDate|到期日期||false|string(date)||
|&emsp;&emsp;lawFirm|所属律所||false|string||
|&emsp;&emsp;years|从业年限（年）||false|integer(int32)||
|&emsp;&emsp;city|所在城市||false|string||
|&emsp;&emsp;province|所在区域||false|string||
|&emsp;&emsp;specialtyJson|专长领域（JSON数组格式）||false|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultString|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|string||
|message|返回消息|string||
|data|返回数据|string||
|requestId|请求ID，用于追踪|string||
|timestamp|时间戳|integer(int64)|integer(int64)|
|success||boolean||


**响应示例**:
```javascript
{
	"code": "00000",
	"message": "成功",
	"data": "",
	"requestId": "123456789",
	"timestamp": 1672531200000,
	"success": true
}
```


## 上传执业证图片


**接口地址**:`/api/lawyer/license/upload`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:<p>上传律师执业证图片到OSS存储，支持JPG、PNG格式，文件大小不超过5MB</p>



**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|file||query|true|file||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultUploadLicenseVo|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|string||
|message|返回消息|string||
|data||UploadLicenseVo|UploadLicenseVo|
|&emsp;&emsp;ossUrl||string||
|&emsp;&emsp;ossObject||string||
|requestId|请求ID，用于追踪|string||
|timestamp|时间戳|integer(int64)|integer(int64)|
|success||boolean||


**响应示例**:
```javascript
{
	"code": "00000",
	"message": "成功",
	"data": {
		"ossUrl": "",
		"ossObject": ""
	},
	"requestId": "123456789",
	"timestamp": 1672531200000,
	"success": true
}
```


# 用户管理


## 律师注册


**接口地址**:`/api/lawyer/register`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:<p>新律师注册账号并提交审核资料</p>



**请求示例**:


```javascript
{
  "userName": "john_doe",
  "password": "123456",
  "phone": "13800138000",
  "name": "张伟",
  "lawFirm": "北京大成律师事务所",
  "years": 5,
  "specialty": [
    "民事纠纷",
    "刑事辩护",
    "公司法务"
  ]
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|lawyerRegisterDTO|LawyerRegisterDTO|body|true|LawyerRegisterDTO|LawyerRegisterDTO|
|&emsp;&emsp;userName|用户名||true|string||
|&emsp;&emsp;password|密码||true|string||
|&emsp;&emsp;phone|手机号码||false|string||
|&emsp;&emsp;name|律师姓名||true|string||
|&emsp;&emsp;lawFirm|所属律所||false|string||
|&emsp;&emsp;years|从业年限（年）||false|integer(int32)||
|&emsp;&emsp;specialty|专长领域（JSON数组格式）||false|array|string|


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultString|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|string||
|message|返回消息|string||
|data|返回数据|string||
|requestId|请求ID，用于追踪|string||
|timestamp|时间戳|integer(int64)|integer(int64)|
|success||boolean||


**响应示例**:
```javascript
{
	"code": "00000",
	"message": "成功",
	"data": "",
	"requestId": "123456789",
	"timestamp": 1672531200000,
	"success": true
}
```


## 获取个人信息


**接口地址**:`/api/user/{id}`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:<p>用户查看个人信息</p>



**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|id||path|true|integer(int64)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultUser|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|string||
|message|返回消息|string||
|data||User|User|
|&emsp;&emsp;id|用户ID|integer(int64)||
|&emsp;&emsp;userName|用户名|string||
|&emsp;&emsp;password|密码|string||
|&emsp;&emsp;phone|手机号码|string||
|&emsp;&emsp;nickname|昵称|string||
|&emsp;&emsp;role|角色:user,lawyer,admin|string||
|&emsp;&emsp;status|用户状态：1=正常，0=禁用|integer(int32)||
|&emsp;&emsp;updateTime|最后更新时间|string(date-time)||
|&emsp;&emsp;createTime|创建时间|string(date-time)||
|requestId|请求ID，用于追踪|string||
|timestamp|时间戳|integer(int64)|integer(int64)|
|success||boolean||


**响应示例**:
```javascript
{
	"code": "00000",
	"message": "成功",
	"data": {
		"id": 1,
		"userName": "john_doe",
		"password": "123456",
		"phone": "13800138000",
		"nickname": "tom",
		"role": "",
		"status": 0,
		"updateTime": "",
		"createTime": ""
	},
	"requestId": "123456789",
	"timestamp": 1672531200000,
	"success": true
}
```


## 用户登录


**接口地址**:`/api/user/login`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:<p>通过用户名和密码进行登录</p>



**请求示例**:


```javascript
{
  "id": 1,
  "userName": "john_doe",
  "password": "123456",
  "phone": "13800138000",
  "nickname": "tom",
  "role": "",
  "status": 0,
  "updateTime": "",
  "createTime": ""
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|user|用户信息实体|body|true|User|User|
|&emsp;&emsp;id|用户ID||false|integer(int64)||
|&emsp;&emsp;userName|用户名||true|string||
|&emsp;&emsp;password|密码||true|string||
|&emsp;&emsp;phone|手机号码||false|string||
|&emsp;&emsp;nickname|昵称||false|string||
|&emsp;&emsp;role|角色:user,lawyer,admin||false|string||
|&emsp;&emsp;status|用户状态：1=正常，0=禁用||false|integer(int32)||
|&emsp;&emsp;updateTime|最后更新时间||false|string(date-time)||
|&emsp;&emsp;createTime|创建时间||false|string(date-time)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultLoginResponseVO|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|string||
|message|返回消息|string||
|data||LoginResponseVO|LoginResponseVO|
|&emsp;&emsp;token||string||
|&emsp;&emsp;userInfo|用户信息实体|User|User|
|&emsp;&emsp;&emsp;&emsp;id|用户ID|integer||
|&emsp;&emsp;&emsp;&emsp;userName|用户名|string||
|&emsp;&emsp;&emsp;&emsp;password|密码|string||
|&emsp;&emsp;&emsp;&emsp;phone|手机号码|string||
|&emsp;&emsp;&emsp;&emsp;nickname|昵称|string||
|&emsp;&emsp;&emsp;&emsp;role|角色:user,lawyer,admin|string||
|&emsp;&emsp;&emsp;&emsp;status|用户状态：1=正常，0=禁用|integer||
|&emsp;&emsp;&emsp;&emsp;updateTime|最后更新时间|string||
|&emsp;&emsp;&emsp;&emsp;createTime|创建时间|string||
|requestId|请求ID，用于追踪|string||
|timestamp|时间戳|integer(int64)|integer(int64)|
|success||boolean||


**响应示例**:
```javascript
{
	"code": "00000",
	"message": "成功",
	"data": {
		"token": "",
		"userInfo": {
			"id": 1,
			"userName": "john_doe",
			"password": "123456",
			"phone": "13800138000",
			"nickname": "tom",
			"role": "",
			"status": 0,
			"updateTime": "",
			"createTime": ""
		}
	},
	"requestId": "123456789",
	"timestamp": 1672531200000,
	"success": true
}
```


## 用户注册


**接口地址**:`/api/user/register`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:<p>新用户注册账号</p>



**请求示例**:


```javascript
{
  "id": 1,
  "userName": "john_doe",
  "password": "123456",
  "phone": "13800138000",
  "nickname": "tom",
  "role": "",
  "status": 0,
  "updateTime": "",
  "createTime": ""
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|user|用户信息实体|body|true|User|User|
|&emsp;&emsp;id|用户ID||false|integer(int64)||
|&emsp;&emsp;userName|用户名||true|string||
|&emsp;&emsp;password|密码||true|string||
|&emsp;&emsp;phone|手机号码||false|string||
|&emsp;&emsp;nickname|昵称||false|string||
|&emsp;&emsp;role|角色:user,lawyer,admin||false|string||
|&emsp;&emsp;status|用户状态：1=正常，0=禁用||false|integer(int32)||
|&emsp;&emsp;updateTime|最后更新时间||false|string(date-time)||
|&emsp;&emsp;createTime|创建时间||false|string(date-time)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultString|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|string||
|message|返回消息|string||
|data|返回数据|string||
|requestId|请求ID，用于追踪|string||
|timestamp|时间戳|integer(int64)|integer(int64)|
|success||boolean||


**响应示例**:
```javascript
{
	"code": "00000",
	"message": "成功",
	"data": "",
	"requestId": "123456789",
	"timestamp": 1672531200000,
	"success": true
}
```


# 用户会话


## 清除未读消息


**接口地址**:`/api/consult/session/clearUnread`


**请求方式**:`PATCH`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:<p>进入会话页面后，将该会话针对当前用户的未读数清零</p>



**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|Authorization||header|true|string||
|sessionId||query|true|integer(int64)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultBoolean|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|string||
|message|返回消息|string||
|data|返回数据|boolean||
|requestId|请求ID，用于追踪|string||
|timestamp|时间戳|integer(int64)|integer(int64)|
|success||boolean||


**响应示例**:
```javascript
{
	"code": "00000",
	"message": "成功",
	"data": true,
	"requestId": "123456789",
	"timestamp": 1672531200000,
	"success": true
}
```


## 创建会话（首次咨询）


**接口地址**:`/api/consult/session/create`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:<p>用户与律师首次聊天时创建会话，若已存在则直接返回</p>



**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|Authorization||header|true|string||
|lawyerId||query|true|integer(int64)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultLong|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|string||
|message|返回消息|string||
|data|返回数据|integer(int64)|integer(int64)|
|requestId|请求ID，用于追踪|string||
|timestamp|时间戳|integer(int64)|integer(int64)|
|success||boolean||


**响应示例**:
```javascript
{
	"code": "00000",
	"message": "成功",
	"data": 0,
	"requestId": "123456789",
	"timestamp": 1672531200000,
	"success": true
}
```


## getSessionList


**接口地址**:`/api/consult/session/list`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|Authorization||header|true|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultListSessionListVO|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|string||
|message|返回消息|string||
|data|返回数据|array|SessionListVO|
|&emsp;&emsp;sessionId|会话ID|integer(int64)||
|&emsp;&emsp;targetId|聊天对象ID（用户看到的是律师；律师看到的是用户）|integer(int64)||
|&emsp;&emsp;targetName|聊天对象名称|string||
|&emsp;&emsp;targetAvatar|聊天对象头像|string||
|&emsp;&emsp;lastMessage|最后一条消息内容|string||
|&emsp;&emsp;lastMessageTime|最后一条消息时间|string||
|&emsp;&emsp;unreadCount|未读消息数|integer(int32)||
|requestId|请求ID，用于追踪|string||
|timestamp|时间戳|integer(int64)|integer(int64)|
|success||boolean||


**响应示例**:
```javascript
{
	"code": "00000",
	"message": "成功",
	"data": [
		{
			"sessionId": 1001,
			"targetId": 2001,
			"targetName": "张律师",
			"targetAvatar": "https://example.com/avatar.jpg",
			"lastMessage": "你好，请问有什么可以帮您？",
			"lastMessageTime": "2024-01-15 10:30:00",
			"unreadCount": 3
		}
	],
	"requestId": "123456789",
	"timestamp": 1672531200000,
	"success": true
}
```


# 用户预约接口


## 用户提交预约请求


**接口地址**:`/api/appointment/create`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
{
  "userId": 1001,
  "lawyerId": 1001,
  "scheduleId": 1,
  "status": 1,
  "remarks": "用户备注，可选"
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|appointmentDTO|用户提交预约请求 DTO|body|true|AppointmentDTO|AppointmentDTO|
|&emsp;&emsp;userId|用户ID||true|integer(int64)||
|&emsp;&emsp;lawyerId|律师ID||true|integer(int64)||
|&emsp;&emsp;scheduleId|时间段ID||true|integer(int64)||
|&emsp;&emsp;status|预约状态, 1=待确认, 2=已确认||false|integer(int32)||
|&emsp;&emsp;remarks|备注||false|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultString|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|string||
|message|返回消息|string||
|data|返回数据|string||
|requestId|请求ID，用于追踪|string||
|timestamp|时间戳|integer(int64)|integer(int64)|
|success||boolean||


**响应示例**:
```javascript
{
	"code": "00000",
	"message": "成功",
	"data": "",
	"requestId": "123456789",
	"timestamp": 1672531200000,
	"success": true
}
```


## 查看预约记录


**接口地址**:`/api/appointment/list`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|userId||query|true|integer(int64)||
|status||query|false|integer(int32)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultListAppointmentVO|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code|状态码|string||
|message|返回消息|string||
|data|返回数据|array|AppointmentVO|
|&emsp;&emsp;id|预约记录ID|integer(int64)||
|&emsp;&emsp;userId|用户ID|integer(int64)||
|&emsp;&emsp;lawyerId|律师ID|integer(int64)||
|&emsp;&emsp;userName||string||
|&emsp;&emsp;scheduleId|预约时间段ID|integer(int64)||
|&emsp;&emsp;status|预约状态,1=待确认, 2=已确认, 3=已完成, 4=已取消, 5=已拒绝,可用值:1,2,3,4,5|integer(int32)||
|&emsp;&emsp;appointmentTime|预约时间|string(date-time)||
|&emsp;&emsp;createTime|创建时间|string(date-time)||
|&emsp;&emsp;updateTime|更新时间|string(date-time)||
|&emsp;&emsp;lawyerName|律师姓名|string||
|&emsp;&emsp;scheduleDate|预约日期|string||
|&emsp;&emsp;startTime|开始时间|string||
|&emsp;&emsp;endTime|结束时间|string||
|requestId|请求ID，用于追踪|string||
|timestamp|时间戳|integer(int64)|integer(int64)|
|success||boolean||


**响应示例**:
```javascript
{
	"code": "00000",
	"message": "成功",
	"data": [
		{
			"id": 1,
			"userId": 10001,
			"lawyerId": 20001,
			"userName": "",
			"scheduleId": 30001,
			"status": 1,
			"appointmentTime": "",
			"createTime": "",
			"updateTime": "",
			"lawyerName": "张伟",
			"scheduleDate": "2025-11-20",
			"startTime": "09:00:00",
			"endTime": "10:00:00"
		}
	],
	"requestId": "123456789",
	"timestamp": 1672531200000,
	"success": true
}
```


# 知识库管理模块-1.上传知识库


## 删除文档


**接口地址**:`/api/knowledge/{id}`


**请求方式**:`DELETE`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|id||path|true|integer(int64)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK||


**响应参数**:


暂无


**响应示例**:
```javascript

```


## 查看已上传文档列表


**接口地址**:`/api/knowledge/list`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


暂无


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|KnowledgeDocument|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|id|文档唯一标识ID|integer(int64)|integer(int64)|
|fileName|原始文件名|string||
|fileType|文件类型,可用值:pdf,docx,txt,md,html|string||
|fileSize|文件大小（字节）|integer(int64)|integer(int64)|
|filePath|文件保存路径|string||
|content|文档文本内容（用于向量化）|string||
|status|文档状态,可用值:active,deleted|string||
|uploadTime|上传时间|string(date-time)|string(date-time)|
|remark|备注信息|string||


**响应示例**:
```javascript
[
	{
		"id": 1,
		"fileName": "劳动合同法解读.pdf",
		"fileType": "pdf",
		"fileSize": 2048576,
		"filePath": "/documents/劳动合同法解读.pdf",
		"content": "《劳动合同法》第三十九条规定：劳动者有下列情形之一的，用人单位可以解除劳动合同...",
		"status": "active",
		"uploadTime": "",
		"remark": "劳动合同相关法律文档"
	}
]
```


## 上传法律文档


**接口地址**:`/api/knowledge/upload`


**请求方式**:`POST`


**请求数据类型**:`multipart/form-data`


**响应数据类型**:`*/*`


**接口描述**:<p>支持批量上传文件（txt/pdf/docx）</p>



**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|files||query|true|array|file|


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|KnowledgeDocument|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|id|文档唯一标识ID|integer(int64)|integer(int64)|
|fileName|原始文件名|string||
|fileType|文件类型,可用值:pdf,docx,txt,md,html|string||
|fileSize|文件大小（字节）|integer(int64)|integer(int64)|
|filePath|文件保存路径|string||
|content|文档文本内容（用于向量化）|string||
|status|文档状态,可用值:active,deleted|string||
|uploadTime|上传时间|string(date-time)|string(date-time)|
|remark|备注信息|string||


**响应示例**:
```javascript
[
	{
		"id": 1,
		"fileName": "劳动合同法解读.pdf",
		"fileType": "pdf",
		"fileSize": 2048576,
		"filePath": "/documents/劳动合同法解读.pdf",
		"content": "《劳动合同法》第三十九条规定：劳动者有下列情形之一的，用人单位可以解除劳动合同...",
		"status": "active",
		"uploadTime": "",
		"remark": "劳动合同相关法律文档"
	}
]
```


# 知识库管理模块-2.1文本切分模块


## 对所有文档执行切分（慎用）


**接口地址**:`/api/knowledge/chunk/run-all`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


暂无


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK||


**响应参数**:


暂无


**响应示例**:
```javascript

```


## 对指定文档执行切分并生成 embedding


**接口地址**:`/api/knowledge/chunk/run/{documentId}`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|documentId||path|true|integer(int64)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK||


**响应参数**:


暂无


**响应示例**:
```javascript

```